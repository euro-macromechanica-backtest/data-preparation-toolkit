# ‚öôÔ∏è Minute Data Gap Report Analyzer

## üìö  –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

A–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä:
- –ß–∏—Ç–∞–µ—Ç **—Å—Ç—Ä–æ–≥–∏–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å‚Äë—Ä–µ–ø–æ—Ä—Ç** —Å –ª–∏–Ω–∏—è–º–∏ –≤–∏–¥–∞:  
  `Gap of <secs>s found between <YYYYMMDDhhmmss> and <YYYYMMDDhhmmss>.`
- **–ë–µ–∑ —Å–∞–º–æ–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:** –º–µ—Ç–∫–∏ —Ç—Ä–∞–∫—Ç—É—é—Ç—Å—è –∫–∞–∫ **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π EST (UTC‚àí5, –±–µ–∑ DST)** –∏ **–Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è** –≤ UTC.
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≥—ç–ø—ã –ø–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (M5‚Äë–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ):  
  `5‚Äì15`, `15‚Äì30`, `30‚Äì60`, `60‚Äì180`, `‚â•180` –º–∏–Ω—É—Ç (–ø–æ–ª—É–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã `[a,b)`).
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã **—Ä—è–¥–æ–º —Å –≤—Ö–æ–¥–Ω—ã–º —Ñ–∞–π–ª–æ–º**, –∏–º–µ–Ω–∞ = **–ø–æ–ª–Ω–æ–µ –∏–º—è –≤—Ö–æ–¥–∞ (—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º) + —Å—É—Ñ—Ñ–∏–∫—Å**.  
  –ü—Ä–∏–º–µ—Ä: `DAT_ASCII_EURUSD_M1_2001.txt ‚Üí DAT_ASCII_EURUSD_M1_2001.txt_gap_buckets_by_date.csv`.
- –ü–∏—à–µ—Ç **2 CSV + 1 SVG + –º–∞–Ω–∏—Ñ–µ—Å—Ç**:
  1) `‚Ä¶_gap_buckets_by_date.csv` ‚Äî –ø–æ **–¥–∞—Ç–∞–º √ó –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è–º** + –∏—Ç–æ–≥–∏:  
     `date`, `5‚Äì15 min`, `15‚Äì30 min`, `30‚Äì60 min`, `60‚Äì180 min`, `‚â•180 min`,  
     `bucketed_total` (—Å—É–º–º–∞ ‚â•5–º), `lt_5_min` (—Ä–∞–∑—Ä—ã–≤—ã <5–º), `all_gaps_total` (–≤—Å–µ).
  2) `‚Ä¶_gap_bucket_counts.csv` ‚Äî **–≥–æ–¥–æ–≤—ã–µ –∏—Ç–æ–≥–∏ –ø–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è–º**:  
     `bucket`, `count`, `percent_of_all_gaps`, `all_gaps_total` *(—Å—Ç—Ä–æ–∫–∏ `ALL` ‚Äî –Ω–µ—Ç)*.
  3) `‚Ä¶_gaps_scatter.svg` ‚Äî –¥–∏–∞–≥—Ä–∞–º–º–∞ (–∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏): **X = –¥–∞—Ç–∞ (–º–µ—Å—è—á–Ω—ã–µ —Ç–∏–∫–∏, EST)**, **Y = –∫–æ—Ä–∑–∏–Ω—ã**.
  4) `‚Ä¶_manifest.sha256` ‚Äî SHA‚Äë256 –≤—Ö–æ–¥–∞ –∏ –≤—ã—Ö–æ–¥–æ–≤ (—Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞, –±–µ–∑ –ø—É—Ç–µ–π).
- **–î–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º**: —Å—Ç–∞–±–∏–ª—å–Ω—ã–π CSV (–ø–æ—Ä—è–¥–æ–∫/—Ñ–æ—Ä–º–∞—Ç), –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SVG (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ rcParams; –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º `<dc:date>`).

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### Python 3.13.5

```
numpy==2.1.2
pandas==2.2.3
matplotlib==3.10.6
```
> –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏ –≤–Ω—É—Ç—Ä–∏ venv: `pip`, `setuptools`, `wheel`.

---

## üì• –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- **–¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å‚Äë—Ä–µ–ø–æ—Ä—Ç**, –∫–∞–∂–¥–∞—è –≤–∞–ª–∏–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å—Ç—Ä–æ–≥–æ:
  ```
  Gap of <secs>s found between <YYYYMMDDhhmmss> and <YYYYMMDDhhmmss>.
  ```
  –ü—Ä–∏–º–µ—Ä:
  ```
  Gap of 420s found between 20040105 123000 and 20040105 123700.
  Gap of 900s found between 20040106 081500 and 20040106 083000.
  ```
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ/–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ **–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è** –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç—ã.

---

## üì§ –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- `‚Ä¶_gap_buckets_by_date.csv` ‚Äî –ø–æ –¥–∞—Ç–∞–º √ó –∫–æ—Ä–∑–∏–Ω—ã + `bucketed_total`, `lt_5_min`, `all_gaps_total`.
- `‚Ä¶_gap_bucket_counts.csv` ‚Äî –ø–æ –∫–æ—Ä–∑–∏–Ω–∞–º –∑–∞ –≥–æ–¥: `bucket`, `count`, `percent_of_all_gaps`, `all_gaps_total`.
- `‚Ä¶_gaps_scatter.svg` ‚Äî **–∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏**, –æ—Å—å X —Å –º–µ—Å—è—á–Ω—ã–º–∏ —Ç–∏–∫–∞–º–∏ `YYYY‚ÄëMM`, –æ—Å—å Y ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∑–∏–Ω; –ø–æ–¥–ø–∏—Å—å X: `Date (EST, UTC‚Äë5 fixed)`.
- `‚Ä¶_manifest.sha256` ‚Äî —Å—Ç—Ä–æ–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞:
  ```
  <SHA256>‚ê†‚ê†<filename>
  ```

---

## üîÅ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –∏ —Ö—ç—à–∏

–£—Ç–∏–ª–∏—Ç–∞ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∞: –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Python/–±–∏–±–ª–∏–æ—Ç–µ–∫ –≤—ã–¥–∞—ë—Ç **–±–∞–π—Ç‚Äë–≤‚Äë–±–∞–π—Ç** –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ CSV/SVG/–º–∞–Ω–∏—Ñ–µ—Å—Ç ‚Üí **SHA‚Äë256** —Å–æ–≤–ø–∞–¥–∞—é—Ç.

–ß—Ç–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ:
- **CSV**: –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫/–∫–æ–ª–æ–Ω–æ–∫; `lineterminator="\n"`; `float_format="%.4f"`.
- **SVG**: `svg.hashsalt`, `svg.fonttype="none"`, —à—Ä–∏—Ñ—Ç `DejaVu Sans`, –≤—ã–∫–ª—é—á–µ–Ω–∞ –ª–æ–∫–∞–ª—å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞ –æ—Å–µ–π, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π DPI; `<dc:date>` –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ.

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üçé/üêß macOS / Linux (zsh/bash)

```bash
python3 -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip
python -m pip install -r requirements.txt  ## —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ

# –∑–∞–ø—É—Å–∫ (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –±–µ–∑ —Ñ–ª–∞–≥–æ–≤):
python ./core_minute_data_gap_report_analyzer.py ./DAT_ASCII_EURUSD_M1_2001.txt
# –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ—è–≤—è—Ç—Å—è —Ä—è–¥–æ–º —Å REPORT.txt:
#   REPORT.txt_gap_buckets_by_date.csv
#   REPORT.txt_gap_bucket_counts.csv
#   REPORT.txt_gaps_scatter.svg
#   REPORT.txt_manifest.sha256

```

### ü™ü Windows (PowerShell)

```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
python -m pip install --upgrade pip
python -m pip install -r requirements.txt  ## —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ

# –∑–∞–ø—É—Å–∫:
python .\core_minute_data_gap_report_analyzer.py .\DAT_ASCII_EURUSD_M1_2001.txt 
# –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ—è–≤—è—Ç—Å—è —Ä—è–¥–æ–º —Å REPORT.txt:
#   REPORT.txt_gap_buckets_by_date.csv
#   REPORT.txt_gap_bucket_counts.csv
#   REPORT.txt_gaps_scatter.svg
#   REPORT.txt_manifest.sha256
```

---

## ‚ÑπÔ∏è Notes

- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ **–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**; –≤—ã—Ö–æ–¥–Ω—ã–µ/–ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ **–Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è** (—Å—Ç–∞—Ç—É—Å‚Äë—Ä–µ–ø–æ—Ä—Ç –æ–±—ã—á–Ω–æ —É–∂–µ –∏—Å–∫–ª—é—á–∞–µ—Ç –∑–∞–∫—Ä—ã—Ç—ã–µ –ø–µ—Ä–∏–æ–¥—ã).
- –°–æ–æ–±—â–µ–Ω–∏–µ `Matplotlib is building the font cache‚Ä¶` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ **–ø–µ—Ä–≤–æ–º** –∑–∞–ø—É—Å–∫–µ –≤ –Ω–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
